.. _de_virtual_cluster_info_module:
.. include:: <isoamsa.txt>
.. |br| raw:: html

   <br />

.. Macros for table-building
.. Start the module documentation


.. title:: de_virtual_cluster_info -- Gather information about CDP DE virtual clusters

de_virtual_cluster_info -- Gather information about CDP DE virtual clusters
===========================================================================

.. contents::
   :local:
   :depth: 1

Synopsis
--------

- Gather information about CDP DE virtual clusters



Requirements
------------
The below requirements are needed on the host that executes this module.

- cdpy


Parameters
----------




.. table::
   :widths: 30 20 50

   +------------------+----------------------+-----------------------------------------------------------------------------------------------+
   | **Parameter**    | **Choices/Defaults** | **Comments**                                                                                  |
   +------------------+----------------------+-----------------------------------------------------------------------------------------------+
   | **name**         |                      | If a name is provided, that DE virtual cluster will be described (if it exists)               |
   |                  |                      | Note that there should be only 1 or 0 (non-deleted) virtual clusters with a given CDE service |
   | |br|             |                      |                                                                                               |
   |                  |                      |                                                                                               |
   | ``str``          |                      |                                                                                               |
   |                  |                      |                                                                                               |
   |                  |                      | |br|                                                                                          |
   |                  |                      |                                                                                               |
   |                  |                      | *Aliases: name*                                                                               |
   +------------------+----------------------+-----------------------------------------------------------------------------------------------+
   | **cluster_name** |                      | The ID of the service in which to find and describe the DE virtual clusters.                  |
   |                  |                      |                                                                                               |
   | |br|             |                      |                                                                                               |
   |                  |                      |                                                                                               |
   | ``str``          |                      |                                                                                               |
   |                  |                      |                                                                                               |
   |                  |                      | |br|                                                                                          |
   |                  |                      |                                                                                               |
   |                  |                      | *Aliases: env*                                                                                |
   +------------------+----------------------+-----------------------------------------------------------------------------------------------+
   | **verify_tls**   |                      | Verify the TLS certificates for the CDP endpoint.                                             |
   |                  |                      |                                                                                               |
   | |br|             |                      |                                                                                               |
   |                  |                      |                                                                                               |
   | ``bool``         |                      |                                                                                               |
   |                  |                      |                                                                                               |
   |                  |                      | |br|                                                                                          |
   |                  |                      |                                                                                               |
   |                  |                      | *Aliases: tls*                                                                                |
   +------------------+----------------------+-----------------------------------------------------------------------------------------------+
   | **debug**        |                      | Capture the CDP SDK debug log.                                                                |
   |                  |                      |                                                                                               |
   | |br|             |                      |                                                                                               |
   |                  |                      |                                                                                               |
   | ``bool``         |                      |                                                                                               |
   |                  |                      |                                                                                               |
   |                  |                      | |br|                                                                                          |
   |                  |                      |                                                                                               |
   |                  |                      | *Aliases: debug_endpoints*                                                                    |
   +------------------+----------------------+-----------------------------------------------------------------------------------------------+
   | **profile**      |                      | If provided, the CDP SDK will use this value as its profile.                                  |
   |                  |                      |                                                                                               |
   | |br|             |                      |                                                                                               |
   |                  |                      |                                                                                               |
   | ``str``          |                      |                                                                                               |
   +------------------+----------------------+-----------------------------------------------------------------------------------------------+






Examples
--------

.. code-block:: yaml+jinja

  
  # Note: These examples do not set authentication details.

  # List basic information about all CDE virtual clusters within a CDE service
  - cloudera.cloud.de_virtual_cluster_info:
      cluster_name: example-cluster-name
      environment: example-environment

  # Gather detailed information about a specific CDE virtual cluster
  - cloudera.cloud.de_info:
      cluster_name: example-cluster-name
      environment: example-environment
      name: example-virtual-cluster-name




Return Values
-------------

Common return values are documented here, the following are fields unique to this module.


.. table::
   :widths: 30 20 50

   +-------------------------------------+--------------+-------------------------------------------------------------------------------------------------------------------------+
   | **Key**                             | **Returned** | **Description**                                                                                                         |
   +-------------------------------------+--------------+-------------------------------------------------------------------------------------------------------------------------+
   | **virtual_cluster**                 | always       | DE virtual cluste                                                                                                       |
   |                                     |              |                                                                                                                         |
   | |br|                                |              |                                                                                                                         |
   |                                     |              |                                                                                                                         |
   | ``complex``                         |              |                                                                                                                         |
   +-+-----------------------------------+--------------+-------------------------------------------------------------------------------------------------------------------------+
   | | **VcUiUrl**                       | always       | URL of the CDE Virtual Cluster UI                                                                                       |
   | |                                   |              |                                                                                                                         |
   | | |br|                              |              |                                                                                                                         |
   | |                                   |              |                                                                                                                         |
   | | ``str``                           |              |                                                                                                                         |
   +-+-----------------------------------+--------------+-------------------------------------------------------------------------------------------------------------------------+
   | | **accessControl**                 | always       | Access control object for the Virtual Cluster                                                                           |
   | |                                   |              |                                                                                                                         |
   | | |br|                              |              |                                                                                                                         |
   | |                                   |              |                                                                                                                         |
   | | ``dict``                          |              |                                                                                                                         |
   +-+-+---------------------------------+--------------+-------------------------------------------------------------------------------------------------------------------------+
   | | | **users**                       | always       | Workload usernames of CDP users granted access to the Virtual Cluster.                                                  |
   | | |                                 |              |                                                                                                                         |
   | | | |br|                            |              |                                                                                                                         |
   | | |                                 |              |                                                                                                                         |
   | | | ``list``                        |              |                                                                                                                         |
   +-+-+-+-------------------------------+--------------+-------------------------------------------------------------------------------------------------------------------------+
   | | | | **description**               |              |                                                                                                                         |
   | | | |                               |              |                                                                                                                         |
   | | | | |br|                          |              |                                                                                                                         |
   | | | |                               |              |                                                                                                                         |
   | | | |                               |              |                                                                                                                         |
   +-+-+-+-------------------------------+--------------+-------------------------------------------------------------------------------------------------------------------------+
   | | | | **returned**                  |              |                                                                                                                         |
   | | | |                               |              |                                                                                                                         |
   | | | | |br|                          |              |                                                                                                                         |
   | | | |                               |              |                                                                                                                         |
   | | | |                               |              |                                                                                                                         |
   +-+-+-+-------------------------------+--------------+-------------------------------------------------------------------------------------------------------------------------+
   | | | | **type**                      |              |                                                                                                                         |
   | | | |                               |              |                                                                                                                         |
   | | | | |br|                          |              |                                                                                                                         |
   | | | |                               |              |                                                                                                                         |
   | | | |                               |              |                                                                                                                         |
   +-+-+-+-------------------------------+--------------+-------------------------------------------------------------------------------------------------------------------------+
   | | **chartValueOverrides**           | always       | Chart overrides for the CDE virtual cluster.                                                                            |
   | |                                   |              |                                                                                                                         |
   | | |br|                              |              |                                                                                                                         |
   | |                                   |              |                                                                                                                         |
   | | ``array``                         |              |                                                                                                                         |
   +-+-+---------------------------------+--------------+-------------------------------------------------------------------------------------------------------------------------+
   | | | **ChartValueOverridesResponse** | always       |                                                                                                                         |
   | | |                                 |              |                                                                                                                         |
   | | | |br|                            |              |                                                                                                                         |
   | | |                                 |              |                                                                                                                         |
   | | | ``list``                        |              |                                                                                                                         |
   +-+-+-+-------------------------------+--------------+-------------------------------------------------------------------------------------------------------------------------+
   | | | | **chartName**                 | always       | Name of the chart that has to be overridden.                                                                            |
   | | | |                               |              |                                                                                                                         |
   | | | | |br|                          |              |                                                                                                                         |
   | | | |                               |              |                                                                                                                         |
   | | | | ``str``                       |              |                                                                                                                         |
   +-+-+-+-------------------------------+--------------+-------------------------------------------------------------------------------------------------------------------------+
   | | | | **overrides**                 | always       | Space separated key value-pairs for overriding chart values (colon separated)                                           |
   | | | |                               |              |                                                                                                                         |
   | | | | |br|                          |              |                                                                                                                         |
   | | | |                               |              |                                                                                                                         |
   | | | | ``str``                       |              |                                                                                                                         |
   +-+-+-+-------------------------------+--------------+-------------------------------------------------------------------------------------------------------------------------+
   | | **clusterId**                     | always       | Cluster ID of the CDE service that contains the Virtual Cluster                                                         |
   | |                                   |              |                                                                                                                         |
   | | |br|                              |              |                                                                                                                         |
   | |                                   |              |                                                                                                                         |
   | | ``str``                           |              |                                                                                                                         |
   +-+-----------------------------------+--------------+-------------------------------------------------------------------------------------------------------------------------+
   | | **creationTime**                  | always       | Time of creation of the virtual Cluster                                                                                 |
   | |                                   |              |                                                                                                                         |
   | | |br|                              |              |                                                                                                                         |
   | |                                   |              |                                                                                                                         |
   | | ``str``                           |              |                                                                                                                         |
   +-+-----------------------------------+--------------+-------------------------------------------------------------------------------------------------------------------------+
   | | **creatorEmail**                  | always       | Email address of the creator of Virtual Cluster                                                                         |
   | |                                   |              |                                                                                                                         |
   | | |br|                              |              |                                                                                                                         |
   | |                                   |              |                                                                                                                         |
   | | ``str``                           |              |                                                                                                                         |
   +-+-----------------------------------+--------------+-------------------------------------------------------------------------------------------------------------------------+
   | | **creatorID**                     | always       | ID of the creator of Virtual Cluster                                                                                    |
   | |                                   |              |                                                                                                                         |
   | | |br|                              |              |                                                                                                                         |
   | |                                   |              |                                                                                                                         |
   | | ``str``                           |              |                                                                                                                         |
   +-+-----------------------------------+--------------+-------------------------------------------------------------------------------------------------------------------------+
   | | **creatorName**                   | always       | Name of the creator of the Virtual Cluster                                                                              |
   | |                                   |              |                                                                                                                         |
   | | |br|                              |              |                                                                                                                         |
   | |                                   |              |                                                                                                                         |
   | | ``str``                           |              |                                                                                                                         |
   +-+-----------------------------------+--------------+-------------------------------------------------------------------------------------------------------------------------+
   | | **historyServerUrl**              | always       | Spark History Server URL for the Virtual Cluster                                                                        |
   | |                                   |              |                                                                                                                         |
   | | |br|                              |              |                                                                                                                         |
   | |                                   |              |                                                                                                                         |
   | | ``str``                           |              |                                                                                                                         |
   +-+-----------------------------------+--------------+-------------------------------------------------------------------------------------------------------------------------+
   | | **livyServerUrl**                 | always       | Livy Server URL for the Virtual Cluster                                                                                 |
   | |                                   |              |                                                                                                                         |
   | | |br|                              |              |                                                                                                                         |
   | |                                   |              |                                                                                                                         |
   | | ``str``                           |              |                                                                                                                         |
   +-+-----------------------------------+--------------+-------------------------------------------------------------------------------------------------------------------------+
   | | **resources**                     | always       | Resources details of CDE virtual cluster.                                                                               |
   | |                                   |              |                                                                                                                         |
   | | |br|                              |              |                                                                                                                         |
   | |                                   |              |                                                                                                                         |
   | | ``complex``                       |              |                                                                                                                         |
   +-+-+---------------------------------+--------------+-------------------------------------------------------------------------------------------------------------------------+
   | | | **VcResources**                 | always       | Object to store resources for a CDE service.                                                                            |
   | | |                                 |              |                                                                                                                         |
   | | | |br|                            |              |                                                                                                                         |
   | | |                                 |              |                                                                                                                         |
   | | | ``complex``                     |              |                                                                                                                         |
   +-+-+-+-------------------------------+--------------+-------------------------------------------------------------------------------------------------------------------------+
   | | | | **actualCpuRequests**         | always       | Actual CPU request for the VC. This accounts for other dex apps(eg. livy, airflow), that run in the virtual cluster.    |
   | | | |                               |              |                                                                                                                         |
   | | | | |br|                          |              |                                                                                                                         |
   | | | |                               |              |                                                                                                                         |
   | | | | ``str``                       |              |                                                                                                                         |
   +-+-+-+-------------------------------+--------------+-------------------------------------------------------------------------------------------------------------------------+
   | | | | **actualMemoryRequests**      | always       | Actual Memory request for the VC. This accounts for other dex apps(eg. livy, airflow), that run in the virtual cluster. |
   | | | |                               |              |                                                                                                                         |
   | | | | |br|                          |              |                                                                                                                         |
   | | | |                               |              |                                                                                                                         |
   | | | | ``str``                       |              |                                                                                                                         |
   +-+-+-+-------------------------------+--------------+-------------------------------------------------------------------------------------------------------------------------+
   | | | | **cpuRequests**               | always       | The CPU requests for VC for running spark jobs.                                                                         |
   | | | |                               |              |                                                                                                                         |
   | | | | |br|                          |              |                                                                                                                         |
   | | | |                               |              |                                                                                                                         |
   | | | | ``str``                       |              |                                                                                                                         |
   +-+-+-+-------------------------------+--------------+-------------------------------------------------------------------------------------------------------------------------+
   | | | | **memRequests**               | always       | The Memory requests for VC for running spark jobs.                                                                      |
   | | | |                               |              |                                                                                                                         |
   | | | | |br|                          |              |                                                                                                                         |
   | | | |                               |              |                                                                                                                         |
   | | | | ``str``                       |              |                                                                                                                         |
   +-+-+-+-------------------------------+--------------+-------------------------------------------------------------------------------------------------------------------------+
   | | **safariUrl**                     | always       | Safari URL for the Virtual Cluster                                                                                      |
   | |                                   |              |                                                                                                                         |
   | | |br|                              |              |                                                                                                                         |
   | |                                   |              |                                                                                                                         |
   | | ``str``                           |              |                                                                                                                         |
   +-+-----------------------------------+--------------+-------------------------------------------------------------------------------------------------------------------------+
   | | **sparkVersion**                  | always       | Spark version for the virtual cluster                                                                                   |
   | |                                   |              |                                                                                                                         |
   | | |br|                              |              |                                                                                                                         |
   | |                                   |              |                                                                                                                         |
   | | ``str``                           |              |                                                                                                                         |
   +-+-----------------------------------+--------------+-------------------------------------------------------------------------------------------------------------------------+
   | | **status**                        | always       | Status of the Virtual Cluster                                                                                           |
   | |                                   |              |                                                                                                                         |
   | | |br|                              |              |                                                                                                                         |
   | |                                   |              |                                                                                                                         |
   | | ``str``                           |              |                                                                                                                         |
   +-+-----------------------------------+--------------+-------------------------------------------------------------------------------------------------------------------------+
   | | **vcApiUrl**                      | always       | Url for the Virtual Cluster APIs                                                                                        |
   | |                                   |              |                                                                                                                         |
   | | |br|                              |              |                                                                                                                         |
   | |                                   |              |                                                                                                                         |
   | | ``str``                           |              |                                                                                                                         |
   +-+-----------------------------------+--------------+-------------------------------------------------------------------------------------------------------------------------+
   | | **vcId**                          | always       | Virtual Cluster ID                                                                                                      |
   | |                                   |              |                                                                                                                         |
   | | |br|                              |              |                                                                                                                         |
   | |                                   |              |                                                                                                                         |
   | | ``str``                           |              |                                                                                                                         |
   +-+-----------------------------------+--------------+-------------------------------------------------------------------------------------------------------------------------+
   | | **vcName**                        | always       | Name of the CDE Virtual Cluster                                                                                         |
   | |                                   |              |                                                                                                                         |
   | | |br|                              |              |                                                                                                                         |
   | |                                   |              |                                                                                                                         |
   | | ``str``                           |              |                                                                                                                         |
   +-+-----------------------------------+--------------+-------------------------------------------------------------------------------------------------------------------------+


Status
------




- This module is not guaranteed to have a backwards compatible interface. *[preview]*


- This module is maintained by community.



Authors
~~~~~~~

- Curtis Howard (@curtishoward)

